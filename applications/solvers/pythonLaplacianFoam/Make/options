PYTHON_INC := $(shell python3 -m pybind11 --includes)
PYTHON_LIB_DIR := $(shell python3 -c "from distutils import sysconfig; import os.path as op; v = sysconfig.get_config_vars(); fpaths = [op.join(v[pv], v['LDLIBRARY']) for pv in ('LIBDIR', 'LIBPL')]; print(list(filter(op.exists, fpaths))[0])" | xargs dirname)

EXE_INC = \
    -I$(LIB_SRC)/finiteVolume/lnInclude \
    -I$(LIB_SRC)/meshTools/lnInclude \
    $(PYTHON_INC)

EXE_LIBS = \
    -lfiniteVolume \
    -lfvOptions \
    -lmeshTools \
    -L$(PYTHON_LIB_DIR) \
    -lpython3.8
